import{r as o,j as e}from"./vendor-react-_vsaDC62.js";import{u as Y,a as p,A as h,b as K}from"./index-B7cE1kBR.js";import"./vendor-DBgzFpze.js";import"./editor-components-CKFEosPJ.js";function ae(){var O,U,B,J,G;const[t,m]=o.useState(null),[j,k]=o.useState([]),[C,F]=o.useState(""),[L,W]=o.useState([]),[r,w]=o.useState(null),[_,b]=o.useState([]),[N,u]=o.useState("all"),[c,S]=o.useState("approvals"),[f,R]=o.useState(null),[M,T]=o.useState(""),[A,l]=o.useState(!1),{notify:n}=Y(),[a,v]=o.useState(null),[q,E]=o.useState(!1);o.useEffect(()=>{(async()=>{try{const s=await p(h.auth.me,{requireAuth:!1});if(m(s),s!=null&&s.is_admin)try{const d=await p(h.admin.settingsModeration,{requireAuth:!1});R(!!d.require_approval)}catch{}}catch{}try{const s=await p(h.admin.videosPending+K({limit:"50"}),{requireAuth:!1});k(s.items||[])}catch{}})()},[]);async function Q(){E(!0);try{const s=await p(h.admin.analytics,{requireAuth:!1});v(s)}finally{E(!1)}}async function I(){try{const s=await p(h.admin.usersSearch(C),{requireAuth:!1});W(s.items||[])}catch{}}async function V(s){w(s),b([]);try{const d=await p(h.admin.userVideos(s.id)+K({limit:"50"}),{requireAuth:!1});b(d.items||[])}catch{}}async function z(s,d){try{const i=await p(h.admin.user(s.id),{method:"PATCH",body:JSON.stringify({is_mod:d})}),g=(i==null?void 0:i.user)||{...s,is_mod:d};n(d?"Granted moderation":"Revoked moderation",{variant:d?"success":"warn"}),w(g),W(L.map(H=>H.id===s.id?g:H))}catch{alert("Failed to update")}}const $=!!(t!=null&&t.is_admin||t!=null&&t.is_mod),x=!!(t!=null&&t.is_admin),D=f===null?null:!f;return e.jsxs("div",{className:"col",style:{width:"100%"},children:[e.jsxs("div",{className:"row-between",style:{alignItems:"center"},children:[e.jsxs("div",{className:"row",style:{alignItems:"center",gap:10},children:[e.jsx("div",{className:"title",children:"Moderation"}),x&&D!==null&&e.jsxs("div",{className:"row",style:{alignItems:"center",gap:6},children:[e.jsx("span",{className:"muted",style:{fontSize:12},children:"Auto-approve"}),e.jsx("button",{className:`btn ${D?"":"secondary"}`,style:{padding:"6px 10px"},onClick:async()=>{if(f===null)return;const s=!f;try{await p(h.admin.settingsModeration,{method:"POST",body:JSON.stringify({require_approval:s})}),R(s),n(s?"Auto-approve disabled":"Auto-approve enabled",{variant:s?"warn":"success"})}catch{alert("Failed to update setting")}},children:D?"On":"Off"})]})]}),$&&e.jsxs("div",{className:"tabs",role:"tablist","aria-label":"Moderation tabs",children:[e.jsx("button",{role:"tab","aria-selected":c==="approvals",className:`tab ${c==="approvals"?"active":""}`,onClick:()=>S("approvals"),children:"Approvals"}),(x||(t==null?void 0:t.is_mod))&&e.jsx("button",{role:"tab","aria-selected":c==="manage",className:`tab ${c==="manage"?"active":""}`,onClick:()=>S("manage"),children:"Manage"}),(x||(t==null?void 0:t.is_mod))&&e.jsx("button",{role:"tab","aria-selected":c==="analytics",className:`tab ${c==="analytics"?"active":""}`,onClick:()=>{S("analytics"),a||Q()},children:"Analytics"}),(x||(t==null?void 0:t.is_mod))&&e.jsx("button",{role:"tab","aria-selected":c==="message",className:`tab ${c==="message"?"active":""}`,onClick:()=>S("message"),children:"Message"})]})]}),e.jsx("hr",{className:"subtle-divider"}),!$&&e.jsx("div",{className:"muted",children:"You do not have access."}),c==="approvals"&&$&&(()=>{const s=j.filter(i=>!i.flagged_only),d=j.filter(i=>!!i.flagged_only);return e.jsxs("div",{className:"row wrap",style:{marginTop:12,gap:16,alignItems:"flex-start"},children:[e.jsxs("div",{className:"col",style:{flex:1,minWidth:0},children:[e.jsxs("div",{className:"row-between",style:{alignItems:"center"},children:[e.jsx("div",{className:"title",children:"Pending approvals"}),e.jsxs("div",{className:"muted",style:{fontSize:12},children:[s.length," item(s)"]})]}),e.jsxs("div",{className:"scroll-panel sm",children:[s.length===0&&e.jsx("div",{className:"muted",children:"Nothing pending."}),s.map(i=>e.jsxs("div",{className:"row wrap",style:{alignItems:"center",justifyContent:"space-between",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,padding:"8px 10px"},children:[e.jsxs("div",{className:"row",style:{alignItems:"center",minWidth:0,gap:10},children:[i.poster_url?e.jsx("img",{src:i.poster_url,width:64,height:36,style:{objectFit:"cover",borderRadius:6}}):e.jsx("div",{style:{width:64,height:36,borderRadius:6,background:"#0f1217"}}),e.jsxs("div",{className:"col",style:{minWidth:0},children:[e.jsx("div",{className:"one-line",title:i.description||"",children:i.description||"No description."}),e.jsxs("div",{className:"muted one-line",children:["uploader: ",i.username,i.needs_review?e.jsx("span",{style:{marginLeft:6,color:"#f59e0b"},children:"(needs review)"}):e.jsx("span",{style:{marginLeft:6,color:"#60a5fa"},children:"(pending)"}),typeof i.flags_count=="number"&&i.flags_count>0?e.jsxs("span",{className:"muted",style:{marginLeft:6},children:["• ",i.flags_count," reports"]}):null]})]})]}),e.jsxs("div",{className:"row wrap",children:[e.jsx("button",{className:"btn secondary",onClick:async()=>{try{await p(h.admin.videosReject(i.id),{method:"POST"}),k(j.filter(g=>g.id!==i.id)),n("Rejected",{variant:"warn"})}catch{}},children:"Reject"}),e.jsx("button",{className:"btn",style:{marginLeft:8},onClick:async()=>{try{await p(h.admin.videosApprove(i.id),{method:"POST"}),k(j.filter(g=>g.id!==i.id)),n("Approved",{variant:"success"})}catch{}},children:"Approve"}),e.jsx("button",{className:"btn secondary",style:{marginLeft:8},onClick:async()=>{if(confirm("Permanently delete this video?"))try{await p(h.videos.delete(i.id),{method:"DELETE"}),k(j.filter(g=>g.id!==i.id)),n("Deleted",{variant:"warn"})}catch{alert("Delete failed")}},children:"Delete"})]})]},i.id))]})]}),e.jsxs("div",{className:"col",style:{flex:1,minWidth:0},children:[e.jsxs("div",{className:"row-between",style:{alignItems:"center"},children:[e.jsx("div",{className:"title",children:"Flagged (FYI)"}),e.jsxs("div",{className:"muted",style:{fontSize:12},children:[d.length," item(s)"]})]}),e.jsxs("div",{className:"scroll-panel sm",children:[d.length===0&&e.jsx("div",{className:"muted",children:"No flagged items."}),d.map(i=>e.jsxs("div",{className:"row wrap",style:{alignItems:"center",justifyContent:"space-between",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,padding:"8px 10px"},children:[e.jsxs("div",{className:"row",style:{alignItems:"center",minWidth:0,gap:10},children:[i.poster_url?e.jsx("img",{src:i.poster_url,width:64,height:36,style:{objectFit:"cover",borderRadius:6}}):e.jsx("div",{style:{width:64,height:36,borderRadius:6,background:"#0f1217"}}),e.jsxs("div",{className:"col",style:{minWidth:0},children:[e.jsx("div",{className:"one-line",title:i.description||"",children:i.description||"No description."}),e.jsxs("div",{className:"muted one-line",children:["uploader: ",i.username,e.jsx("span",{style:{marginLeft:6,color:"#9ca3af"},children:"(flagged)"}),typeof i.flags_count=="number"&&i.flags_count>0?e.jsxs("span",{className:"muted",style:{marginLeft:6},children:["• ",i.flags_count," reports"]}):null]})]})]}),e.jsx("div",{className:"row wrap",children:e.jsx("button",{className:"btn secondary",onClick:async()=>{if(confirm("Permanently delete this video?"))try{await p(h.videos.delete(i.id),{method:"DELETE"}),k(j.filter(g=>g.id!==i.id)),n("Deleted",{variant:"warn"})}catch{alert("Delete failed")}},children:"Delete"})})]},i.id))]}),e.jsx("div",{className:"muted",style:{fontSize:12,marginTop:6},children:"Flagged items don’t require approval; use Delete only if necessary."})]})]})})(),c==="manage"&&(x||(t==null?void 0:t.is_mod))&&e.jsx("div",{className:"col",style:{marginTop:16},children:e.jsxs("div",{className:"mod-manage-grid",children:[e.jsxs("div",{className:"col",style:{minWidth:0},children:[e.jsx("div",{className:"title",style:{marginBottom:6},children:"User management"}),e.jsxs("div",{className:"row wrap",style:{gap:8,alignItems:"center"},children:[e.jsx("input",{type:"text",placeholder:"Search username or ID",value:C,onChange:s=>F(s.target.value),onKeyDown:s=>{s.key==="Enter"&&I()}}),e.jsx("button",{className:"btn",onClick:I,style:{padding:"6px 10px"},children:"Search"})]}),e.jsx("div",{className:"scroll-panel sm",style:{marginTop:8},children:e.jsx("div",{className:"col",style:{gap:6},children:L.map(s=>e.jsxs("button",{className:"btn secondary",onClick:()=>V(s),style:{justifyContent:"flex-start"},children:[s.avatar_url&&e.jsx("img",{src:s.avatar_url,width:18,height:18,style:{borderRadius:"50%",marginRight:8}}),e.jsx("span",{className:"one-line",style:{marginRight:8},children:s.username}),e.jsxs("span",{className:"muted",children:["(id ",s.id,", osu ",s.osu_user_id,")"]}),s.is_admin?e.jsx("span",{style:{marginLeft:"auto",color:"var(--accent)"},children:"admin"}):s.is_mod?e.jsx("span",{style:{marginLeft:"auto",color:"var(--accent)"},children:"mod"}):s.is_blacklisted?e.jsx("span",{style:{marginLeft:"auto",color:"#f87171"},children:"blacklisted"}):null]},s.id))})})]}),e.jsx("div",{className:"v-divider","aria-hidden":"true"}),e.jsx("div",{className:"col",style:{minWidth:0},children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row wrap",style:{alignItems:"center"},children:[r.avatar_url&&e.jsx("img",{src:r.avatar_url,width:28,height:28,style:{borderRadius:"50%",marginRight:8}}),e.jsx("div",{className:"title",style:{marginRight:8,fontSize:18},children:r.username}),e.jsxs("div",{className:"muted",style:{fontSize:12},children:["id ",r.id," • osu ",r.osu_user_id]}),e.jsx("div",{style:{marginLeft:"auto"}}),x?r.is_admin?e.jsx("span",{}):r.is_mod?e.jsx("button",{className:"btn secondary",style:{padding:"6px 10px"},onClick:()=>z(r,!1),children:"Revoke moderation"}):e.jsx("button",{className:"btn",style:{padding:"6px 10px"},onClick:()=>z(r,!0),children:"Grant moderation"}):null,!r.is_admin&&(r.is_blacklisted?e.jsx("button",{className:"btn",style:{marginLeft:8,padding:"6px 10px"},onClick:async()=>{try{await p(h.admin.user(r.id),{method:"PATCH",body:JSON.stringify({is_blacklisted:!1})}),w({...r,is_blacklisted:!1}),n("User unblacklisted",{variant:"success"})}catch{alert("Failed")}},children:"Unblacklist"}):e.jsx("button",{className:"btn secondary",style:{marginLeft:8,padding:"6px 10px"},onClick:async()=>{try{await p(h.admin.user(r.id),{method:"PATCH",body:JSON.stringify({is_blacklisted:!0})}),w({...r,is_blacklisted:!0}),n("User blacklisted",{variant:"warn"})}catch{alert("Failed")}},children:"Blacklist"}))]}),r.is_admin?e.jsx("div",{className:"caption",style:{marginTop:4},children:"Admins always retain access"}):null,e.jsxs("div",{className:"col",style:{marginTop:12},children:[e.jsxs("div",{className:"row-between",style:{alignItems:"center"},children:[e.jsx("div",{className:"title",children:"Uploads"}),e.jsxs("div",{className:"row",style:{gap:8,alignItems:"center"},children:[e.jsx("span",{className:"muted",style:{fontSize:12},children:"Show"}),e.jsx("button",{className:`btn ${N==="all"?"":"secondary"}`,onClick:()=>u("all"),children:"All"}),e.jsx("button",{className:`btn ${N==="review"?"":"secondary"}`,onClick:()=>u("review"),children:"Needs review"})]})]}),e.jsxs("div",{className:"scroll-panel sm",style:{marginTop:8},children:[_.length===0&&e.jsx("div",{className:"muted",children:"No uploads."}),_.filter(s=>{if(N==="all")return!0;const d=(f?!s.approved_at:!1)&&s.status==="ready",i=!!s.needs_review;return d||i}).map(s=>e.jsxs("div",{className:"row",style:{alignItems:"center",justifyContent:"space-between",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,padding:"8px 10px"},children:[e.jsxs("div",{className:"row",style:{alignItems:"center",minWidth:0,gap:10},children:[s.poster_url?e.jsx("img",{src:s.poster_url,width:64,height:36,style:{objectFit:"cover",borderRadius:6}}):e.jsx("div",{style:{width:64,height:36,borderRadius:6,background:"#0f1217"}}),e.jsxs("div",{className:"col",style:{minWidth:0},children:[e.jsx("div",{className:"one-line",title:s.description||"",children:s.description||"No description."}),e.jsxs("div",{className:"muted one-line",children:[s.status.toUpperCase()," • ",new Date(s.created_at*1e3).toLocaleString(),s.needs_review?e.jsx("span",{style:{marginLeft:6,color:"#f59e0b"},children:"(purgatory)"}):null,f&&!s.approved_at&&s.status==="ready"?e.jsx("span",{style:{marginLeft:6,color:"#60a5fa"},children:"(pending)"}):null]})]})]}),e.jsxs("div",{className:"row",style:{gap:8,alignItems:"center"},children:[e.jsx("span",{className:"muted",children:s.likes_count??0}),e.jsx("span",{style:{color:"var(--accent)"},children:"★"}),(x||(t==null?void 0:t.is_mod))&&(!!s.needs_review||f&&!s.approved_at&&s.status==="ready")&&e.jsx("button",{className:"btn",onClick:async()=>{try{await p(h.admin.videosApprove(s.id),{method:"POST"}),b(_.map(d=>d.id===s.id?{...d,approved_at:Math.floor(Date.now()/1e3),needs_review:0}:d)),n("Approved",{variant:"success"})}catch{alert("Approve failed")}},children:"Approve"}),(x||(t==null?void 0:t.is_mod))&&e.jsx("button",{className:"btn secondary",style:{marginLeft:8},onClick:async()=>{if(confirm("Permanently delete this video?"))try{await p(h.videos.delete(s.id),{method:"DELETE"}),b(_.filter(d=>d.id!==s.id)),n("Deleted",{variant:"warn"})}catch{alert("Delete failed")}},children:"Delete"})]})]},s.id))]})]})]}):e.jsx("div",{className:"muted",children:"Select a user to view details and uploads."})})]})}),!1,c==="message"&&(x||(t==null?void 0:t.is_mod))&&e.jsx("div",{className:"col",style:{marginTop:16},children:e.jsxs("div",{className:"mod-manage-grid",children:[e.jsxs("div",{className:"col",style:{minWidth:0},children:[e.jsx("div",{className:"title",style:{marginBottom:6},children:"Send a system message"}),e.jsxs("div",{className:"row wrap",style:{gap:8,alignItems:"center"},children:[e.jsx("input",{type:"text",placeholder:"Search username or ID",value:C,onChange:s=>F(s.target.value),onKeyDown:s=>{s.key==="Enter"&&I()}}),e.jsx("button",{className:"btn",onClick:I,style:{padding:"6px 10px"},children:"Search"})]}),e.jsx("div",{className:"scroll-panel sm",style:{marginTop:8},children:e.jsx("div",{className:"col",style:{gap:6},children:L.map(s=>e.jsxs("button",{className:"btn secondary",onClick:()=>w(s),style:{justifyContent:"flex-start"},children:[s.avatar_url&&e.jsx("img",{src:s.avatar_url,width:18,height:18,style:{borderRadius:"50%",marginRight:8}}),e.jsx("span",{className:"one-line",style:{marginRight:8},children:s.username}),e.jsxs("span",{className:"muted",children:["(id ",s.id,", osu ",s.osu_user_id,")"]}),(r==null?void 0:r.id)===s.id&&e.jsx("span",{style:{marginLeft:"auto",color:"var(--accent)"},children:"selected"})]},s.id))})})]}),e.jsx("div",{className:"v-divider","aria-hidden":"true"}),e.jsxs("div",{className:"col",style:{minWidth:0},children:[e.jsx("div",{className:"title",style:{marginBottom:6},children:"Compose"}),e.jsxs("label",{className:"row",style:{alignItems:"center",gap:8},children:[e.jsx("input",{type:"checkbox",checked:A,onChange:s=>l(s.currentTarget.checked)}),e.jsx("span",{className:"muted",style:{fontSize:12},children:"Send to all users (global)"})]}),e.jsx("textarea",{placeholder:"Message (shown in notifications)",style:{height:120,resize:"vertical"},value:M,onChange:s=>T(s.target.value)}),e.jsx("div",{className:"row wrap",style:{justifyContent:"flex-end",gap:8},children:e.jsx("button",{className:"btn",onClick:()=>{const s=(M||"").trim();if(!s){alert("Enter a message");return}(async()=>{try{const d={text:s,global:A};!A&&(r!=null&&r.id)&&(d.user_id=r.id),await p(h.admin.notificationsSystem,{method:"POST",body:JSON.stringify(d)}),T(""),n("Message sent",{variant:"success"})}catch{alert("Failed to send")}})()},children:"Send"})}),e.jsx("div",{className:"caption",style:{marginTop:6},children:'System messages persist for 24 hours and show an "Expires at" timestamp.'})]})]})}),c==="analytics"&&(x||(t==null?void 0:t.is_mod))&&e.jsxs("div",{className:"col",style:{marginTop:16,gap:12},children:[e.jsx("div",{className:"title",children:"Analytics"}),q&&e.jsx("div",{className:"muted",children:"Loading…"}),!q&&!a&&e.jsx("div",{className:"muted",children:"No data."}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",style:{flexWrap:"wrap",gap:10},children:[e.jsx(y,{label:"Users",value:a.totals.users_total}),e.jsx(y,{label:"Admins",value:a.totals.users_admin}),e.jsx(y,{label:"Mods",value:a.totals.users_mod}),e.jsx(y,{label:"Blacklisted",value:a.totals.users_blacklisted}),e.jsx(y,{label:"Videos",value:a.totals.videos_total}),e.jsx(y,{label:"Ready",value:a.totals.videos_ready}),e.jsx(y,{label:"Pending",value:a.totals.pending_count}),e.jsx(y,{label:"Purgatory",value:a.totals.purgatory_count}),e.jsx(y,{label:"Likes",value:a.totals.likes_total}),e.jsx(y,{label:"Flags",value:a.totals.flags_total})]}),e.jsxs("div",{className:"row",style:{flexWrap:"wrap",gap:20,marginTop:8},children:[e.jsx(P,{title:"New users (30d)",series:a.series.users,color:"#60a5fa"}),e.jsx(P,{title:"New videos (30d)",series:a.series.videos,color:"#34d399"}),((U=(O=a.stream)==null?void 0:O.graphql)==null?void 0:U.minutes_viewed)&&a.stream.graphql.minutes_viewed.length>0&&e.jsx(P,{title:"Minutes viewed (30d)",series:a.stream.graphql.minutes_viewed,color:"#f59e0b"})]}),e.jsxs("div",{className:"col",style:{gap:6,marginTop:8},children:[e.jsx("div",{className:"title",children:"Feed & Stream"}),e.jsxs("div",{className:"muted",children:["Feed: ",a.feed.count," items in rotation",a.feed.cursor?` • cursor ${a.feed.cursor}`:""]}),e.jsxs("div",{className:"muted",children:["Approx. ready seconds: ",a.stream.approximate.total_duration_sec," • ready videos: ",a.stream.approximate.videos_ready]}),a.stream.api&&e.jsxs("div",{className:"muted",style:{fontSize:12},children:["Stream API: ",a.stream.api.ok?"ok":"unavailable",(J=(B=a.stream.api)==null?void 0:B.result_info)!=null&&J.count?` • count ${a.stream.api.result_info.count}`:"",(G=a.stream.api)!=null&&G.sample_status?` • sample status ${String(a.stream.api.sample_status)}`:""]})]})]})]})]})}function y({label:t,value:m}){return e.jsxs("div",{className:"col",style:{padding:"8px 10px",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,minWidth:120},children:[e.jsx("div",{className:"muted",style:{fontSize:12},children:t}),e.jsx("div",{className:"title",children:m})]})}function P({title:t,series:m,color:j}){const w=m.map(l=>l.count),_=Math.max(1,...w),b=o.useMemo(()=>{const l=_,n=Math.pow(10,Math.floor(Math.log10(l))),a=l/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n},[_]),N=350,u=124,c=o.useMemo(()=>m.map((l,n)=>{const a=42+n/Math.max(1,m.length-1)*N,v=8+(1-l.count/(b||1))*u;return[a,v]}),[m,b,N,u]),S=o.useMemo(()=>c.map((l,n)=>n===0?`M ${l[0]} ${l[1]}`:`L ${l[0]} ${l[1]}`).join(" "),[c]),f=[0,.25,.5,.75,1],R=o.useMemo(()=>{if(m.length===0)return[];const l=[0,.25,.5,.75,1].map(n=>Math.min(m.length-1,Math.round(n*(m.length-1))));return Array.from(new Set(l))},[m]),M=l=>{if(!l||l.length<10)return l||"";const n=l.slice(5,7).replace(/^0/,""),a=l.slice(8,10).replace(/^0/,"");return`${n}/${a}`};function T(l){const n=Number.isInteger(l);return l>=1e6?`${(l/1e6).toFixed(1).replace(/\.0$/,"")}M`:l>=1e3?`${(l/1e3).toFixed(1).replace(/\.0$/,"")}k`:n?String(l):l<10?l.toFixed(1):l.toFixed(1).replace(/\.0$/,"")}const A=m.length?m[m.length-1].count:0;return e.jsxs("div",{className:"col",style:{border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,padding:10},children:[e.jsxs("div",{className:"row",style:{alignItems:"baseline",justifyContent:"space-between",marginBottom:6},children:[e.jsx("div",{className:"muted",children:t}),e.jsxs("div",{className:"muted",style:{fontSize:12},children:["latest: ",T(A)]})]}),e.jsxs("svg",{width:400,height:160,role:"img","aria-label":t,children:[e.jsx("rect",{x:0,y:0,width:400,height:160,fill:"#0f1217",rx:8}),f.map((l,n)=>{const a=8+(1-l)*u,v=l*b;return e.jsxs("g",{children:[e.jsx("line",{x1:42,y1:a,x2:392,y2:a,stroke:"rgba(255,255,255,0.08)",strokeWidth:1}),e.jsx("text",{x:36,y:a+4,textAnchor:"end",fontSize:10,fill:"rgba(255,255,255,0.6)",children:T(v)})]},n)}),e.jsx("line",{x1:42,y1:8,x2:42,y2:8+u,stroke:"rgba(255,255,255,0.25)",strokeWidth:1}),e.jsx("line",{x1:42,y1:8+u,x2:42+N,y2:8+u,stroke:"rgba(255,255,255,0.25)",strokeWidth:1}),R.map((l,n)=>{var v;const a=42+l/Math.max(1,m.length-1)*N;return e.jsxs("g",{children:[e.jsx("line",{x1:a,y1:8,x2:a,y2:8+u,stroke:"rgba(255,255,255,0.08)",strokeWidth:1}),e.jsx("text",{x:a,y:8+u+12,textAnchor:"middle",fontSize:10,fill:"rgba(255,255,255,0.6)",children:M((v=m[l])==null?void 0:v.day)})]},n)}),e.jsx("path",{d:S,fill:"none",stroke:j,strokeWidth:2}),c.length>0&&e.jsx("circle",{cx:c[c.length-1][0],cy:c[c.length-1][1],r:3,fill:j})]})]})}export{ae as default};
