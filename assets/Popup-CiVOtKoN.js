import{r as s,j as m,Z as w}from"./vendor-react-BxoNMQk4.js";const v=({open:t,onClose:u,buttonRef:r,children:a,align:n="right",minWidth:p=160})=>{const[i,c]=s.useState(null),d=s.useRef(null);if(s.useEffect(()=>{if(!t||!r.current){c(null);return}const e=()=>{if(!r.current)return;const o=r.current.getBoundingClientRect();c({top:o.bottom+8,[n]:window.innerWidth-o[n==="right"?"right":"left"]})};return e(),window.addEventListener("resize",e),window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e,!0)}},[t,r,n]),s.useEffect(()=>{if(!t)return;const e=o=>{d.current&&!d.current.contains(o.target)&&r.current&&!r.current.contains(o.target)&&u()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[t,u,r]),!t||!i)return null;const l=m.jsx("div",{ref:d,style:{position:"fixed",top:i.top,[n]:i[n],background:"var(--panel)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,padding:6,zIndex:1e3,minWidth:p,boxShadow:"0 12px 30px rgba(0,0,0,0.4)"},children:a});return w.createPortal(l,document.body)};export{v as P};
