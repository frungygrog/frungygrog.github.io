import{j as i,c as h}from"./vendor-react-DlOpOyxn.js";import{P as j}from"./Popup-Cb9r-D2b.js";import{P as y}from"./beatmap-preview-KBszVjOw.js";const w=({streamUID:c,playbackUrl:d,aspectRatio:s,onClose:n,headerLeft:l,headerRight:o,children:r,beatmapDownloadUrl:t,beatmapVersion:x,beatmapId:m,onOpenInEditor:v})=>{const p=typeof s=="number"&&isFinite(s)&&s>0?s:1.7777777777777777,a=!!t;return i.jsxs("div",{className:"overlay",role:"dialog","aria-modal":"true",onClick:e=>e.stopPropagation(),children:[i.jsx("div",{className:"overlay-backdrop",onClick:n}),i.jsxs("div",{className:"overlay-card",onClick:e=>e.stopPropagation(),children:[i.jsx("button",{className:"overlay-close",onClick:n,"aria-label":"Close",children:i.jsx(h,{size:18})}),i.jsx("div",{className:"section-panel",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:a?"500px":"auto",height:"auto",maxHeight:a?"80vh":"calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 160px)",width:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",flexShrink:1,minWidth:0},onClick:e=>e.stopPropagation(),children:a?i.jsx("div",{style:{width:"100%",maxWidth:"100%",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",boxSizing:"border-box",minHeight:0},children:i.jsx(y,{downloadUrl:t,beatmapVersion:x,beatmapId:m,onOpenInEditor:v})}):i.jsx(j,{streamUID:c||void 0,playbackUrl:d||void 0,aspectRatio:p})}),(l||o||r)&&i.jsxs("div",{className:"section-panel",children:[(l||o)&&i.jsxs("div",{className:"row-between",children:[i.jsx("div",{className:"row",style:{alignItems:"center"},children:l}),o?i.jsx("div",{className:"row post-actions",style:{gap:8,position:"relative"},children:o}):i.jsx("div",{})]}),r]})]})]})};export{w as O};
