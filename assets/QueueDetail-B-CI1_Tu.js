import{r as n,j as e,J as ye,t as ve,M as je,P as Se,Y as ke,T as we,Z as Ne,s as Ce,_ as _e,L as ze,c as ie,$ as Te,q as ne,a0 as Re,a1 as Fe}from"./vendor-react-B1K9M2rd.js";import{u as le}from"./index-OGvRdrbu.js";import"./vendor-CX6J-Jt3.js";import"./editor-components-h1yzRKko.js";const re="https://api.osumappi.ng";function qe(s){var i;return(i=document.cookie.split("; ").map(a=>a.split("=")).find(([a])=>a===s))==null?void 0:i[1]}function Me({submission:s,canManage:i,onUpdate:a}){const[$,c]=n.useState(!1),[U,F]=n.useState(!1),[h,W]=n.useState(null),{notify:N}=le();n.useEffect(()=>{if(!s.beatmap_url||!s.beatmapset_id&&!s.beatmap_id||h)return;let d=!1;return(async()=>{try{let b;try{b=new URL(s.beatmap_url)}catch{return}const S=b.hash.match(/#osu\/(\d+)/),k=S?S[1]:null;b.hash="";const _=b.toString(),q=new URLSearchParams({url:_});k&&q.set("beatmap_id",k);const I=await fetch(`${re}/api/osu/beatmap/resolve?${q.toString()}`,{credentials:"include"});if(I.ok&&!d){const y=await I.json();(y.title||y.artist)&&W({title:y.title||null,artist:y.artist||null,mapper:y.mapper||null})}}catch{}})(),()=>{d=!0}},[s.beatmap_url,s.beatmapset_id,s.beatmap_id]);const p=async d=>{if(!$){c(!0);try{const b=qe("csrf")||"";if((await fetch(`${re}/api/moddi/queues/${s.queue_id}/submissions/${s.id}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":b},body:JSON.stringify({status:d})})).ok){const k={...s,status:d,updated_at:Math.floor(Date.now()/1e3)};a&&a(k),N("Status updated",{variant:"success"})}else N("Failed to update status",{variant:"error"})}catch{N("Failed to update status",{variant:"error"})}finally{c(!1),F(!1)}}},f={unchecked:"#f59e0b",accepted:"#10b981",denied:"#ef4444",finished:"#6366f1"},j={unchecked:"Unchecked",accepted:"Accepted",denied:"Denied",finished:"Finished"},C=s.beatmapset_id?`https://assets.ppy.sh/beatmaps/${s.beatmapset_id}/covers/card.jpg`:null;return e.jsxs("div",{style:{position:"relative",borderRadius:12,overflow:"hidden",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.01)",transition:"background-color 0.15s ease"},onMouseEnter:d=>d.currentTarget.style.backgroundColor="rgba(255,255,255,0.025)",onMouseLeave:d=>d.currentTarget.style.backgroundColor="rgba(255,255,255,0.01)",children:[C&&e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"200px",backgroundImage:`url(${C})`,backgroundSize:"cover",backgroundPosition:"center",opacity:.3,zIndex:0}}),e.jsx("div",{style:{position:"relative",zIndex:1,padding:"16px"},children:e.jsxs("div",{className:"row",style:{alignItems:"flex-start",justifyContent:"space-between",gap:12,marginBottom:12},children:[e.jsxs("div",{style:{flex:1,minWidth:0},children:[h?e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("div",{style:{fontSize:18,fontWeight:600,marginBottom:4},children:h.title||"Unknown Title"}),e.jsx("div",{className:"muted",style:{fontSize:14,marginBottom:2},children:h.artist||"Unknown Artist"}),h.mapper&&e.jsxs("div",{className:"muted",style:{fontSize:12},children:["Mapped by ",h.mapper]}),s.beatmap_version&&e.jsx("div",{className:"muted",style:{fontSize:12,marginTop:4},children:s.beatmap_version})]}):e.jsx("div",{style:{marginBottom:8},children:e.jsxs("a",{href:s.beatmap_url,target:"_blank",rel:"noreferrer",style:{display:"inline-flex",alignItems:"center",gap:6,color:"#7dd3fc",textDecoration:"none",fontSize:14},children:[e.jsx(ye,{size:14}),"View beatmap"]})}),e.jsxs("div",{className:"row",style:{alignItems:"center",gap:8,marginTop:8},children:[s.avatar_url&&e.jsx("img",{src:s.avatar_url,width:24,height:24,style:{borderRadius:"50%"},alt:s.username}),e.jsx("span",{style:{fontSize:13},children:s.username}),e.jsx("span",{className:"muted",style:{fontSize:12},children:new Date(s.created_at*1e3).toLocaleDateString()})]}),s.message&&e.jsxs("div",{style:{marginTop:12,padding:10,background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:8,fontSize:13,lineHeight:1.5},children:[e.jsx("div",{className:"muted",style:{fontSize:11,marginBottom:4,fontWeight:600},children:"Message:"}),s.message]})]}),i?e.jsxs("div",{style:{position:"relative"},children:[e.jsxs("button",{className:"chip-btn",onClick:()=>F(!U),disabled:$,style:{background:f[s.status]+"20",border:`1px solid ${f[s.status]}40`,color:f[s.status],whiteSpace:"nowrap"},children:[e.jsx("span",{style:{textTransform:"capitalize",fontSize:12},children:j[s.status]}),e.jsx(ve,{size:12,style:{marginLeft:4}})]}),U&&e.jsx("div",{style:{position:"absolute",right:0,top:"100%",marginTop:4,background:"var(--panel)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:8,padding:4,zIndex:10,minWidth:120,boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:["unchecked","accepted","denied","finished"].map(d=>e.jsx("button",{className:"menu-item",onClick:()=>p(d),style:{color:d===s.status?f[d]:void 0},children:j[d]},d))})]}):e.jsx("span",{style:{padding:"6px 12px",borderRadius:6,fontSize:12,fontWeight:500,background:f[s.status]+"20",color:f[s.status],whiteSpace:"nowrap"},children:j[s.status]})]})})]})}const g="https://api.osumappi.ng";function R(s){var i;return(i=document.cookie.split("; ").map(a=>a.split("=")).find(([a])=>a===s))==null?void 0:i[1]}const oe=({content:s})=>e.jsx("div",{style:{fontSize:13,lineHeight:1.6,color:"var(--text)"},children:e.jsx(Fe,{components:{p:({children:i})=>e.jsx("p",{style:{margin:"0 0 8px 0"},children:i}),ul:({children:i})=>e.jsx("ul",{style:{margin:"0 0 8px 0",paddingLeft:20},children:i}),ol:({children:i})=>e.jsx("ol",{style:{margin:"0 0 8px 0",paddingLeft:20},children:i}),li:({children:i})=>e.jsx("li",{style:{margin:"0 0 4px 0"},children:i}),strong:({children:i})=>e.jsx("strong",{style:{fontWeight:600},children:i}),em:({children:i})=>e.jsx("em",{children:i}),code:({children:i})=>e.jsx("code",{style:{background:"rgba(255,255,255,0.1)",padding:"2px 4px",borderRadius:4,fontSize:12},children:i}),h1:({children:i})=>e.jsx("h1",{style:{fontSize:18,fontWeight:700,margin:"0 0 8px 0"},children:i}),h2:({children:i})=>e.jsx("h2",{style:{fontSize:16,fontWeight:700,margin:"0 0 8px 0"},children:i}),h3:({children:i})=>e.jsx("h3",{style:{fontSize:14,fontWeight:600,margin:"0 0 8px 0"},children:i})},children:s})});function Be(){const{id:s}=je(),i=Se(),[a,$]=n.useState(null),[c,U]=n.useState([]),[F,h]=n.useState([]),[W,N]=n.useState(!0),[p,f]=n.useState(null),[j,C]=n.useState(!1),[d,b]=n.useState(!1),[S,k]=n.useState(""),[_,q]=n.useState(""),[I,y]=n.useState(null),[D,H]=n.useState(!1),[E,P]=n.useState(""),[J,Q]=n.useState(""),[L,A]=n.useState(""),[v,G]=n.useState(!1),[de,V]=n.useState(!1),[x,B]=n.useState("general"),[m,Y]=n.useState(!1),[O,Z]=n.useState(""),[K,ee]=n.useState(!1),[ce,te]=n.useState(null),X=n.useRef(null),{notify:r}=le(),z=async()=>{if(s){N(!0);try{const t=await fetch(`${g}/api/moddi/queues/${s}`,{credentials:"include"});if(t.ok){const o=await t.json();$(o.queue),U(o.members||[]),h(o.submissions||[])}else t.status===403?(r("You do not have access to this queue",{variant:"error"}),i("/md/queues")):r("Failed to load queue",{variant:"error"})}catch{r("Failed to load queue",{variant:"error"})}finally{N(!1)}}};n.useEffect(()=>{z(),fetch(`${g}/api/me`,{credentials:"include"}).then(t=>t.ok?t.json():null).then(t=>f(t)).catch(()=>{})},[s]);const ae=p&&a&&(a.owner_id===p.id||c.some(t=>t.user_id===p.id&&t.role==="owner"));p&&c.some(t=>t.user_id===p.id&&t.joined_at);const se=p&&a&&(a.owner_id===p.id||c.some(t=>t.user_id===p.id&&t.joined_at)),ue=async t=>{if(t.preventDefault(),!a||a.is_open===0){r("Queue is closed for submissions",{variant:"error"});return}if(!S.trim()){r("Beatmap URL is required",{variant:"error"});return}b(!0);try{const o=R("csrf")||"",l=await fetch(`${g}/api/moddi/queues/${s}/submit`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":o},body:JSON.stringify({beatmap_url:S.trim(),message:_.trim()||null})});if(l.ok)r("Submission created!",{variant:"success"}),C(!1),k(""),q(""),z();else{const u=await l.json().catch(()=>({}));r(u.error||"Failed to submit",{variant:"error"})}}catch{r("Failed to submit",{variant:"error"})}finally{b(!1)}},pe=t=>{h(o=>o.map(l=>l.id===t.id?t:l))},me=()=>{a&&(P(a.name),Q(a.description||""),A(a.rules||""),H(!0),B("general"))},w=()=>{H(!1),P(""),Q(""),A("")},ge=async()=>{if(!(!a||!se)){V(!0);try{const t=R("csrf")||"",o=a.is_open!==1,l=await fetch(`${g}/api/moddi/queues/${s}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":t},body:JSON.stringify({is_open:o})});if(l.ok)r(`Queue ${o?"opened":"closed"}`,{variant:"success"}),z();else{const u=await l.json().catch(()=>({}));r(u.error||"Failed to update status",{variant:"error"})}}catch{r("Failed to update status",{variant:"error"})}finally{V(!1)}}},he=async t=>{if(t.preventDefault(),!a||!E.trim()){r("Queue name is required",{variant:"error"});return}Y(!0);try{const o=R("csrf")||"",l=c.filter(T=>T.user_id!==a.owner_id&&T.role!=="owner").length>0,u=await fetch(`${g}/api/moddi/queues/${s}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":o},body:JSON.stringify({name:E.trim(),description:J.trim()||null,rules:L.trim()||null,is_group:l})});if(u.ok)r("Queue updated!",{variant:"success"}),w(),z();else{const T=await u.json().catch(()=>({}));r(T.error||"Failed to update queue",{variant:"error"})}}catch{r("Failed to update queue",{variant:"error"})}finally{Y(!1)}},be=async t=>{if(t.preventDefault(),!O.trim()){r("Username is required",{variant:"error"});return}ee(!0);try{const o=R("csrf")||"",l=await fetch(`${g}/api/moddi/queues/${s}/invite`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":o},body:JSON.stringify({username:O.trim()})});if(l.ok)r("Member invited!",{variant:"success"}),Z(""),a&&a.is_group===0&&((await fetch(`${g}/api/moddi/queues/${s}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":o},body:JSON.stringify({is_group:!0})})).ok||console.warn("Failed to convert queue to group after inviting member")),z();else{const u=await l.json().catch(()=>({}));r(u.error||"Failed to invite member",{variant:"error"})}}catch{r("Failed to invite member",{variant:"error"})}finally{ee(!1)}},xe=async()=>{if(a&&confirm(`Are you sure you want to delete "${a.name}"? This action cannot be undone.`)){G(!0);try{const t=R("csrf")||"",o=await fetch(`${g}/api/moddi/queues/${s}`,{method:"DELETE",credentials:"include",headers:{"X-CSRF-Token":t}});if(o.ok)r("Queue deleted",{variant:"success"}),i("/md/queues");else{const l=await o.json().catch(()=>({}));r(l.error||"Failed to delete queue",{variant:"error"})}}catch{r("Failed to delete queue",{variant:"error"})}finally{G(!1)}}},fe=async t=>{if(confirm("Remove this member from the queue?")){te(t);try{const o=R("csrf")||"",l=await fetch(`${g}/api/moddi/queues/${s}/members/${t}`,{method:"DELETE",credentials:"include",headers:{"X-CSRF-Token":o}});if(l.ok){r("Member removed",{variant:"success"});const T=c.filter(M=>M.user_id!==t).some(M=>M.user_id!==(a==null?void 0:a.owner_id)&&M.role!=="owner");a&&a.is_group===1&&!T&&((await fetch(`${g}/api/moddi/queues/${s}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":o},body:JSON.stringify({is_group:!1})})).ok||console.warn("Failed to convert queue back to individual after removing last member")),z()}else{const u=await l.json().catch(()=>({}));r(u.error||"Failed to remove member",{variant:"error"})}}catch{r("Failed to remove member",{variant:"error"})}finally{te(null)}}};return n.useEffect(()=>{if(!D)return;const t=o=>{const l=o.target;l.closest(".manage-overlay")||l.closest(".manage-overlay-backdrop")||!l.closest(".manage-popup")&&X.current&&!X.current.contains(l)&&w()};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[D]),W?e.jsx("div",{className:"muted",style:{textAlign:"center",padding:48},children:"Loading..."}):a?e.jsxs("div",{style:{width:"100%",maxWidth:"600px",margin:"0 auto",padding:"0 16px"},children:[e.jsxs("div",{className:"row",style:{alignItems:"center",justifyContent:"space-between",gap:12,marginBottom:16,paddingTop:16},children:[e.jsxs("div",{className:"row",style:{alignItems:"center",gap:12,flex:1,minWidth:0},children:[e.jsx("button",{className:"icon-link",onClick:()=>i("/md/queues"),style:{width:"auto",height:"auto",padding:"4px",background:"transparent"},title:"Back","aria-label":"Back",children:e.jsx(we,{size:20})}),e.jsx("div",{className:"title",style:{flex:1,minWidth:0},children:a.name})]}),e.jsxs("div",{className:"row",style:{alignItems:"center",gap:8},children:[se&&e.jsx("button",{className:"icon-link",onClick:ge,disabled:de,style:{width:"auto",height:"auto",padding:"4px"},title:a.is_open===1?"Close queue":"Open queue","aria-label":a.is_open===1?"Close queue":"Open queue",children:a.is_open===1?e.jsx(Ne,{size:18}):e.jsx(Ce,{size:18})}),ae&&e.jsx("button",{ref:X,className:"icon-link",onClick:me,style:{width:"auto",height:"auto",padding:"4px"},title:"Manage Queue","aria-label":"Manage Queue",children:e.jsx(_e,{size:18})}),c.length>0&&e.jsx("div",{style:{display:"flex",alignItems:"center",gap:6},children:c.map(t=>e.jsxs("div",{style:{position:"relative"},onMouseEnter:()=>y(t.user_id),onMouseLeave:()=>y(null),children:[e.jsx(ze,{to:`/profile/${t.user_id}`,className:"queue-member-avatar",title:t.username,children:t.avatar_url?e.jsx("img",{src:t.avatar_url,alt:t.username}):e.jsx("div",{style:{width:"100%",height:"100%",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,color:"var(--muted)"},children:t.username.charAt(0).toUpperCase()})}),I===t.user_id&&e.jsxs("div",{className:"queue-member-tooltip",children:[t.username," ",t.role!=="member"?`(${t.role})`:""]})]},t.user_id))})]})]}),a.description&&e.jsx("div",{className:"muted",style:{marginBottom:16,fontSize:14,padding:"0 4px"},children:a.description}),a.rules&&e.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--panel-dark)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10},children:[e.jsx("div",{style:{fontSize:14,fontWeight:600,marginBottom:8},children:"Rules"}),e.jsx(oe,{content:a.rules})]}),a.is_open===0&&e.jsx("div",{style:{marginBottom:12,padding:10,background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:10,textAlign:"center",fontSize:14,color:"#f59e0b"},children:"This queue is currently closed for submissions"}),e.jsxs("div",{style:{background:"var(--panel)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,marginBottom:12,opacity:a.is_open===0?.6:1},children:[e.jsxs("div",{className:"row",style:{alignItems:"center",justifyContent:"space-between",cursor:a.is_open===1?"pointer":"not-allowed",padding:"8px 12px",minHeight:36},onClick:()=>a.is_open===1&&C(!j),children:[e.jsxs("span",{style:{fontWeight:600,fontSize:16,lineHeight:1},children:["Submit a beatmap ",a.is_open===0&&"(Closed)"]}),a.is_open===1&&(j?e.jsx(ie,{size:16}):e.jsx(Te,{size:16}))]}),j&&e.jsx("form",{onSubmit:ue,style:{padding:"12px",borderTop:"1px solid rgba(255,255,255,0.06)"},children:e.jsxs("div",{className:"col",style:{gap:12},children:[e.jsx("input",{type:"url",placeholder:"Beatmap URL e.g. https://osu.ppy.sh/beatmapsets/...",value:S,onChange:t=>k(t.target.value),required:!0,style:{background:"var(--bg)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:8,padding:12,color:"var(--text)",fontFamily:"inherit",fontSize:14}}),e.jsx("input",{type:"text",placeholder:"Message (optional, max 100 chars)",value:_,onChange:t=>q(t.target.value.slice(0,100)),maxLength:100,style:{background:"var(--bg)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:8,padding:12,color:"var(--text)",fontFamily:"inherit",fontSize:14}}),_.length>0&&e.jsxs("div",{className:"muted",style:{fontSize:12,textAlign:"right"},children:[_.length,"/100"]}),e.jsxs("div",{className:"row",style:{gap:8,justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",className:"btn secondary",onClick:t=>{t.stopPropagation(),C(!1)},children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn",disabled:d,onClick:t=>t.stopPropagation(),children:d?"Submitting...":"Submit"})]})]})})]}),e.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.06)",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:e.jsx("div",{className:"col",style:{gap:0},children:F.length===0?e.jsx("div",{className:"muted",style:{textAlign:"center",padding:48},children:"No submissions yet."}):F.map(t=>e.jsx(Me,{submission:t,canManage:!!ae,onUpdate:pe},t.id))})}),D&&ke.createPortal(e.jsxs("div",{className:"overlay manage-overlay",children:[e.jsx("div",{className:"overlay-backdrop manage-overlay-backdrop",onClick:w}),e.jsxs("div",{className:"overlay-card",style:{maxWidth:500},children:[e.jsx("button",{className:"overlay-close",onClick:w,"aria-label":"Close",children:e.jsx(ie,{size:18})}),e.jsxs("div",{className:"col",style:{gap:0,padding:"0"},children:[e.jsx("div",{className:"title",style:{fontSize:20,marginBottom:16,padding:"0 16px"},children:"Manage Queue"}),e.jsxs("div",{className:"tabs",role:"tablist",style:{margin:"0 16px 16px"},children:[e.jsx("button",{role:"tab","aria-selected":x==="general",className:`tab ${x==="general"?"active":""}`,onClick:()=>B("general"),children:"General"}),e.jsx("button",{role:"tab","aria-selected":x==="rules",className:`tab ${x==="rules"?"active":""}`,onClick:()=>B("rules"),children:"Rules"}),e.jsx("button",{role:"tab","aria-selected":x==="members",className:`tab ${x==="members"?"active":""}`,onClick:()=>B("members"),children:"Members"})]}),e.jsx("hr",{className:"subtle-divider",style:{margin:"0 16px"}}),e.jsxs("form",{onSubmit:he,className:"col",style:{gap:0,padding:"16px"},children:[x==="general"&&e.jsxs("div",{className:"col",style:{gap:16},children:[e.jsxs("div",{className:"col",style:{gap:8},children:[e.jsx("label",{style:{fontSize:14,fontWeight:500},children:"Queue Name"}),e.jsx("input",{type:"text",value:E,onChange:t=>P(t.target.value),required:!0,style:{background:"var(--bg)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:8,padding:12,color:"var(--text)",fontFamily:"inherit",fontSize:14}})]}),e.jsxs("div",{className:"col",style:{gap:8},children:[e.jsx("label",{style:{fontSize:14,fontWeight:500},children:"Description (optional)"}),e.jsx("textarea",{placeholder:"Description",value:J,onChange:t=>Q(t.target.value),rows:4,style:{background:"var(--bg)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:8,padding:12,color:"var(--text)",fontFamily:"inherit",fontSize:14,resize:"vertical"}})]}),e.jsx("hr",{className:"subtle-divider"}),e.jsx("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid rgba(255,255,255,0.08)"},children:e.jsxs("div",{className:"row",style:{gap:8,justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("button",{type:"button",className:"btn secondary",onClick:xe,disabled:v||m,style:{background:"rgba(248, 113, 113, 0.1)",borderColor:"rgba(248, 113, 113, 0.3)",color:"var(--danger)"},children:[e.jsx(ne,{size:16,style:{marginRight:6}}),v?"Deleting...":"Delete Queue"]}),e.jsxs("div",{className:"row",style:{gap:8},children:[e.jsx("button",{type:"button",className:"btn secondary",onClick:w,disabled:m||v,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn",disabled:m||v,children:m?"Updating...":"Save Changes"})]})]})})]}),x==="rules"&&e.jsxs("div",{className:"col",style:{gap:16},children:[e.jsxs("div",{className:"col",style:{gap:8},children:[e.jsx("label",{style:{fontSize:14,fontWeight:500},children:"Rules (optional, markdown supported)"}),e.jsx("textarea",{placeholder:"Rules in markdown format...",value:L,onChange:t=>A(t.target.value),rows:10,style:{background:"var(--bg)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:8,padding:12,color:"var(--text)",fontFamily:"ui-monospace, monospace",fontSize:13,resize:"vertical"}}),L&&e.jsxs("div",{style:{padding:12,background:"var(--panel-dark)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:8,fontSize:12},children:[e.jsx("div",{style:{fontSize:12,fontWeight:600,marginBottom:8,opacity:.8},children:"Preview:"}),e.jsx(oe,{content:L})]})]}),e.jsx("hr",{className:"subtle-divider"}),e.jsxs("div",{className:"row",style:{gap:8,justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",className:"btn secondary",onClick:w,disabled:m||v,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn",disabled:m||v,children:m?"Updating...":"Save Changes"})]})]}),x==="members"&&e.jsxs("div",{className:"col",style:{gap:16},children:[e.jsxs("div",{className:"col",style:{gap:12},children:[e.jsx("div",{className:"title",style:{fontSize:16},children:"Invite Members"}),e.jsxs("form",{onSubmit:be,className:"row",style:{gap:8},children:[e.jsx("input",{type:"text",placeholder:"Username to invite",value:O,onChange:t=>Z(t.target.value),required:!0,style:{flex:1,background:"var(--bg)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:8,padding:10,color:"var(--text)",fontFamily:"inherit",fontSize:14}}),e.jsxs("button",{type:"submit",className:"btn",disabled:K,children:[e.jsx(Re,{size:16,style:{marginRight:6}}),K?"Inviting...":"Invite"]})]})]}),c.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"subtle-divider"}),e.jsxs("div",{className:"col",style:{gap:12},children:[e.jsx("div",{className:"title",style:{fontSize:16},children:"Members"}),e.jsx("div",{className:"col",style:{gap:8},children:c.map(t=>e.jsxs("div",{className:"row",style:{alignItems:"center",justifyContent:"space-between",gap:8,padding:"8px 0"},children:[e.jsxs("div",{className:"row",style:{alignItems:"center",gap:8,flex:1,minWidth:0},children:[t.avatar_url&&e.jsx("img",{src:t.avatar_url,width:32,height:32,style:{borderRadius:"50%"},alt:t.username}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontSize:14,fontWeight:500},children:t.username}),e.jsx("div",{className:"muted",style:{fontSize:12},children:t.role})]})]}),t.user_id!==a.owner_id&&t.role!=="owner"&&e.jsx("button",{className:"icon-link",onClick:()=>fe(t.user_id),disabled:ce===t.user_id,title:"Remove member",style:{width:"auto",height:"auto",padding:"4px",color:"var(--danger)"},children:e.jsx(ne,{size:16})})]},t.user_id))})]})]}),e.jsx("hr",{className:"subtle-divider"}),e.jsxs("div",{className:"row",style:{gap:8,justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",className:"btn secondary",onClick:w,disabled:m||v,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn",disabled:m||v,children:m?"Updating...":"Save Changes"})]})]})]})]})]})]}),document.body),e.jsx("style",{children:`
        .queue-member-avatar {
          width: 32px;
          height: 32px;
          border-radius: 9999px;
          padding: 0;
          border: 1px solid rgba(255,255,255,0.08);
          overflow: hidden;
          cursor: pointer;
          background: transparent;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          text-decoration: none;
          transition: border-color 0.2s;
        }
        .queue-member-avatar:hover {
          border-color: rgba(167, 139, 250, 0.4);
        }
        .queue-member-avatar img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          display: block;
        }
        .queue-member-tooltip {
          position: absolute;
          bottom: calc(100% + 8px);
          left: 50%;
          transform: translateX(-50%);
          background: rgba(18, 20, 24, 0.95);
          color: var(--text, #e5e7eb);
          border: 1px solid rgba(255, 255, 255, 0.08);
          border-radius: 6px;
          padding: 6px 10px;
          font-size: 14px;
          white-space: nowrap;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
          z-index: 10000;
          pointer-events: none;
          font-family: 'Torus Pro', Torus, ui-sans-serif, system-ui, sans-serif;
        }
        .queue-member-tooltip::after {
          content: '';
          position: absolute;
          top: 100%;
          left: 50%;
          transform: translateX(-50%);
          width: 0;
          height: 0;
          border-left: 5px solid transparent;
          border-right: 5px solid transparent;
          border-top: 5px solid rgba(18, 20, 24, 0.95);
        }
      `})]}):e.jsx("div",{className:"muted",style:{textAlign:"center",padding:48},children:"Queue not found"})}export{Be as default};
